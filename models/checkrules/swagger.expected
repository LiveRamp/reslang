# generated by Reslang v0.9.9
openapi: 3.0.1
info:
  title: Rule checking
  description: Test for various rule checking
  version: 0.0.1
servers:
  - url: 'https://api.liveramp.com/checkrules'
tags:
  - name: A
    description: '(configuration)  '
  - name: 'A::B'
    description: '(subresource)  '
  - name: 'A::B::C'
    description: '(subresource)  '
  - name: 'A::B::C::start'
    description: (sync action)  Start processing
  - name: 'A::B::stop'
    description: '(async action)  '
  - name: 'A::B::stop::Deep'
    description: '(subresource)  '
  - name: Asset
    description: '(asset)  '
paths:
  /v1/as:
    post:
      tags:
        - A
      operationId: Create A
      description: ''
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AInput'
      responses:
        '201':
          description: A created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    description: ''
                    type: integer
      parameters: []
  '/v1/as/{id}':
    get:
      tags:
        - A
      operationId: Get 1 A
      description: ''
      responses:
        '200':
          description: A retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AOutput'
        '404':
          description: A not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardError'
      parameters:
        - in: path
          name: id
          required: true
          description: ''
          schema:
            type: integer
  '/v1/as/{a-id}/bs':
    post:
      tags:
        - 'A::B'
      operationId: Create B
      description: ''
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ABInput'
      responses:
        '201':
          description: B created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    description: ''
                    type: integer
      parameters:
        - &ref_0
          in: path
          name: a-id
          description: Id of parent A
          required: true
          schema:
            type: integer
  '/v1/as/{a-id}/bs/{id}':
    get:
      tags:
        - 'A::B'
      operationId: 'Get 1 A::B'
      description: ''
      responses:
        '200':
          description: B retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ABOutput'
        '404':
          description: B not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardError'
      parameters:
        - *ref_0
        - in: path
          name: id
          required: true
          description: ''
          schema:
            type: integer
  '/v1/as/{a-id}/bs/{b-id}/cs':
    post:
      tags:
        - 'A::B::C'
      operationId: Create C
      description: ''
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ABCInput'
      responses:
        '201':
          description: C created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    description: ''
                    type: integer
      parameters:
        - &ref_1
          in: path
          name: a-id
          description: Id of parent A
          required: true
          schema:
            type: integer
        - &ref_2
          in: path
          name: b-id
          description: Id of parent B
          required: true
          schema:
            type: integer
  '/v1/as/{a-id}/bs/{b-id}/cs/{id}':
    get:
      tags:
        - 'A::B::C'
      operationId: 'Get 1 A::B::C'
      description: ''
      responses:
        '200':
          description: C retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ABCOutput'
        '404':
          description: C not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardError'
      parameters:
        - *ref_1
        - *ref_2
        - in: path
          name: id
          required: true
          description: ''
          schema:
            type: integer
  '/v1/as/{a-id}/bs/{b-id}/cs/{c-id}/actions/start':
    post:
      tags:
        - 'A::B::C::start'
      operationId: Create start
      description: ''
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ABCstartInput'
      responses:
        '201':
          description: start action completed
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    description: ''
                    type: integer
      parameters:
        - &ref_3
          in: path
          name: a-id
          description: Id of parent A
          required: true
          schema:
            type: integer
        - &ref_4
          in: path
          name: b-id
          description: Id of parent B
          required: true
          schema:
            type: integer
        - &ref_5
          in: path
          name: c-id
          description: Id of parent C
          required: true
          schema:
            type: integer
  '/v1/as/{a-id}/bs/{b-id}/cs/{c-id}/actions/start/{id}':
    get:
      tags:
        - 'A::B::C::start'
      operationId: 'Get 1 A::B::C::start'
      description: ''
      responses:
        '200':
          description: start retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ABCstartOutput'
        '404':
          description: start not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardError'
      parameters:
        - *ref_3
        - *ref_4
        - *ref_5
        - in: path
          name: id
          required: true
          description: ''
          schema:
            type: integer
  '/v1/as/{a-id}/bs/{b-id}/actions/stop':
    post:
      tags:
        - 'A::B::stop'
      operationId: Create stop
      description: ''
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ABstopInput'
      responses:
        '202':
          description: 'stop action has been accepted, but is not yet complete'
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    description: ''
                    type: integer
        '204':
          description: stop action has already been submitted and we are currently doing it
        '409':
          description: >-
            stop action has been accepted but cannot be processed due to current
            state
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardError'
      parameters:
        - &ref_6
          in: path
          name: a-id
          description: Id of parent A
          required: true
          schema:
            type: integer
        - &ref_7
          in: path
          name: b-id
          description: Id of parent B
          required: true
          schema:
            type: integer
  '/v1/as/{a-id}/bs/{b-id}/actions/stop/{id}':
    get:
      tags:
        - 'A::B::stop'
      operationId: 'Get 1 A::B::stop'
      description: ''
      responses:
        '200':
          description: stop retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ABstopOutput'
        '404':
          description: stop not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardError'
      parameters:
        - *ref_6
        - *ref_7
        - in: path
          name: id
          required: true
          description: ''
          schema:
            type: integer
components:
  parameters: {}
  schemas:
    AInput:
      type: object
      properties:
        name:
          description: ''
          type: string
        outputName:
          description: ''
          type: string
      required:
        - name
        - outputName
    AOutput:
      type: object
      properties:
        id:
          description: ''
          type: integer
        name:
          description: ''
          type: string
        asset:
          description: ''
          type: integer
          example: Link to a Asset resource via its id
        outputName:
          description: ''
          type: string
      required:
        - id
        - name
        - asset
        - outputName
    ABInput:
      type: object
      properties:
        name:
          description: ''
          type: string
      required:
        - name
    ABOutput:
      type: object
      properties:
        id:
          description: ''
          type: integer
        name:
          description: ''
          type: string
      required:
        - id
        - name
    ABCInput:
      type: object
      properties:
        name:
          description: ''
          type: string
      required:
        - name
    ABCOutput:
      type: object
      properties:
        id:
          description: ''
          type: integer
        name:
          description: ''
          type: string
      required:
        - id
        - name
    ABCstartInput:
      type: object
      properties:
        name:
          description: ''
          type: string
      required:
        - name
    ABCstartOutput:
      type: object
      properties:
        id:
          description: ''
          type: integer
        name:
          description: ''
          type: string
      required:
        - id
        - name
    ABstopInput:
      type: object
      properties:
        name:
          description: ''
          type: string
      required:
        - name
    ABstopOutput:
      type: object
      properties:
        id:
          description: ''
          type: integer
        name:
          description: ''
          type: string
      required:
        - id
        - name
    StandardError:
      type: object
      properties:
        httpStatus:
          description: HTTP error status code for this problem
          type: integer
        errorCode:
          description: 'Service specific error code, more granular'
          type: string
        message:
          description: 'General, human readable error message'
          type: string
      required:
        - httpStatus
        - errorCode
        - message

