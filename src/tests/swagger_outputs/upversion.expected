openapi: 3.0.1
info:
  title: An API showing evolution
  description: This is the description of the API
  version: 0.1.2
servers:
  - url: 'https://api.liveramp.com/upversion'
tags:
  - name: ResourceA
  - name: ResourceB
  - name: v2/ResourceB
  - name: v2/ResourceB / Sub
paths:
  '/v1/resource-as/{id}':
    get:
      tags:
        - ResourceA
      operationId: retrieveResourceA
      responses:
        '200':
          description: ResourceA retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceAOutput'
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            format: int32
  /v1/resource-bs:
    post:
      tags:
        - ResourceB
      operationId: createResourceB
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResourceBInput'
      responses:
        '200':
          description: ResourceB created successfully
  '/v1/resource-bs/{id}':
    get:
      tags:
        - ResourceB
      operationId: retrieveResourceB
      responses:
        '200':
          description: ResourceB retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceBOutput'
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            format: int32
    put:
      tags:
        - ResourceB
      operationId: modifyResourceB
      responses:
        '200':
          description: ResourceB modified successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceBInput'
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            format: int32
  /v2/resource-bs:
    post:
      tags:
        - v2/ResourceB
      operationId: createv2/ResourceB
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2-ResourceBInput'
      responses:
        '200':
          description: v2/ResourceB created successfully
  '/v2/resource-bs/{id}':
    get:
      tags:
        - v2/ResourceB
      operationId: retrievev2-ResourceB
      responses:
        '200':
          description: v2/ResourceB retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2-ResourceBOutput'
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            format: int32
  '/v2/resource-bs/{parentId}/subs':
    post:
      tags:
        - v2/ResourceB / Sub
      operationId: createSub
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2-ResourceB--SubInput'
      responses:
        '200':
          description: Sub created successfully
      parameters:
        - in: path
          name: parentId
          description: Id of parent v2-ResourceB
          required: true
          schema:
            type: integer
            format: int32
  '/v2/resource-bs/{parentId}/subs/{id}':
    get:
      tags:
        - v2/ResourceB / Sub
      operationId: retrievev2-ResourceB--Sub
      responses:
        '200':
          description: Sub retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2-ResourceB--SubOutput'
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            format: int32
        - in: path
          name: parentId
          description: Id of parent v2-ResourceB
          required: true
          schema:
            type: integer
            format: int32
components:
  parameters: {}
  schemas:
    ResourceAOutput:
      type: object
      properties:
        id:
          type: integer
          format: int32
        name:
          type: string
        b-resource-b-id:
          type: string
          example: Link to garage via id(s)
        newB-resource-b-id:
          type: string
          example: Link to garage via id(s)
    ResourceBInput:
      type: object
      properties:
        size:
          type: integer
          format: int32
    ResourceBOutput:
      type: object
      properties:
        id:
          type: integer
          format: int32
        size:
          type: integer
          format: int32
    v2-ResourceBInput:
      type: object
      properties:
        totalSize:
          type: integer
          format: int32
    v2-ResourceBOutput:
      type: object
      properties:
        id:
          type: integer
          format: int32
        totalSize:
          type: integer
          format: int32
    v2-ResourceB--SubInput:
      type: object
      properties:
        name:
          type: string
    v2-ResourceB--SubOutput:
      type: object
      properties:
        id:
          type: integer
          format: int32
        name:
          type: string
    ErrorBody:
      type: object
      properties:
        http-status:
          type: number
          description: The integer HTTP error status code for this problem
        error-code:
          type: string
          description: 'Service specific error code, more granular'
        message:
          type: string
          description: 'General, human readable error message'
        detail:
          type: string
          description: Human readable message specific to this occurrence
        path:
          type: string
          description: The request field that the error is about

